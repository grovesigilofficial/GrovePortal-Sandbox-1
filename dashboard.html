<script type="module">
if(localStorage.getItem('grove_admin_logged_in') !== 'true'){
  window.location.href = 'lock.html';
}

import('./src/assets/js/headphoneAlarm.js').then(mod=>{
  const btn = document.getElementById('test-alarm-btn');
  const status = document.getElementById('alarm-status');
  btn.addEventListener('click', async()=>{
    status.textContent = 'Status: playing';
    await mod.playAlarm();
    setTimeout(()=>{status.textContent='Status: idle';},5000);
  });
});
</script>
